(function(){"use strict";var e={"0.js":"basis.template","1.js":"basis.template.const","2.js":"basis.template.declaration","3.js":"basis.template.store","4.js":"basis.template.theme"},t={"0.tmpl":[[1,0,["element"],"div",[4,0,0,"tmpl-class-test"],[2,0,0,"id","tmpl-id-test"]]],"1.tmpl":[[1,0,["element"],"div",[4,0,0,"y17l7otv15yixr9n__test"],[3,0,0,"Hello world!"]]],"0.js":function(e,t,n,r,i,a,s,o,u){function l(e){var t=R[e];if(!t){var r=h.getElementById(e),i="";r&&"SCRIPT"==r.tagName&&"text/basis-template"==r.type&&(i=r.textContent||r.text),t=R[e]=n.resource.virtual("tmpl",i||"")}return t}function c(){this.destroyBuilder&&f.call(this);for(var e=this;e=e.attaches_;)e.handler.call(e.context)}function f(){var e=y(this.source,this.baseURI,!1,{isolate:this.getIsolatePrefix()}),t=this.destroyBuilder,r={},i=this.builder(e.tokens,r);this.createInstance=i.createInstance,this.clearInstance=i.destroyInstance,this.destroyBuilder=i.destroy,E.add(this.templateId,this,r);var a=e.deps,s=this.deps_;if(this.deps_=a,s)for(u=0;o=s[u];u++)o.bindingBridge.detach(o,c,this);if(a)for(var o,u=0;o=a[u];u++)o.bindingBridge.attach(o,c,this);var l=e.resources,f=this.resources;if(this.resources=l,l)for(u=0;p=l[u];u++)"function"==typeof(h=n.resource(p).fetch()).startUse&&h.startUse();if(f)for(var p,u=0;p=f[u];u++){var h=n.resource(p).fetch();"function"==typeof h.stopUse&&h.stopUse()}t&&t(!0)}var p=this.path,h=r.document,d=n.Class,v=n.cleaner,m=n.path,g=n.require("./1.js"),_=n.require("./2.js").VERSION,y=n.require("./2.js").getDeclFromSource,b=n.require("./2.js").makeDeclaration,T=n.require("./2.js").setIsolatePrefixGenerator,E=n.require("./3.js"),x=n.require("./4.js"),I=x.get,N=[],R={},k=d(null,{className:p+".Template",__extend__:function(e){return e instanceof k?e:e instanceof S?new A(e):new k(e)},source:"",baseURI:"",url:"",attaches_:null,init:function(e){if(4096==N.length)throw"Too many templates (maximum 4096)";this.setSource(e||""),this.templateId=N.push(this)-1},bindingBridge:{attach:function(e,t,n){e.attaches_={handler:t,context:n,attaches_:e.attaches_}},detach:function(e,t,n){for(var r,i=e;r=i,i=i.attaches_;)if(i.handler===t&&i.context===n)return void(r.attaches_=i.attaches_)},get:function(e){var t=e.source;return t&&t.bindingBridge?t.bindingBridge.get(t):t}},createInstance:function(e,t,n,r,i){return f.call(this),this.createInstance(e,t,n,r,i)},clearInstance:function(){},getIsolatePrefix:function(){return"i"+this.templateId+"__"},setSource:function(e){var t=this.source;if(t!=e){if("string"==typeof e){var n=e.match(/^([a-z]+):/);if(n)switch(e=e.substr(n[0].length),n[1]){case"id":e=l(e);break;case"path":e=I(e)}}t&&t.bindingBridge&&(this.url="",this.baseURI="",t.bindingBridge.detach(t,c,this)),e&&e.bindingBridge&&(e.url&&(this.url=e.url,this.baseURI=m.dirname(e.url)+"/"),e.bindingBridge.attach(e,c,this)),this.source=e,c.call(this)}},destroy:function(){this.destroyBuilder&&(E.remove(this.templateId),this.destroyBuilder()),this.attaches_=null,this.createInstance=null,this.resources=null,this.source=null}}),S=function(e){n.object.extend(this,e)},A=n.Class(null,{className:p+".TemplateSwitcher",ruleRet_:null,templates_:null,templateClass:k,ruleEvents:null,rule:String,init:function(e){this.ruleRet_=[],this.templates_=[],this.rule=e.rule;var t=e.events;if(t&&t.length){this.ruleEvents={};for(var n,r=0;n=t[r];r++)this.ruleEvents[n]=!0}v.add(this)},resolve:function(e){var t=this.rule(e),n=this.ruleRet_.indexOf(t);return-1==n&&(this.ruleRet_.push(t),n=this.templates_.push(new this.templateClass(t))-1),this.templates_[n]},destroy:function(){this.rule=null,this.templates_=null,this.ruleRet_=null}});v.add({destroy:function(){for(var e,t=0;e=N[t];t++)e.destroy();N=null}}),t.exports={DECLARATION_VERSION:_,TYPE_ELEMENT:g.TYPE_ELEMENT,TYPE_ATTRIBUTE:g.TYPE_ATTRIBUTE,TYPE_ATTRIBUTE_CLASS:g.TYPE_ATTRIBUTE_CLASS,TYPE_ATTRIBUTE_STYLE:g.TYPE_ATTRIBUTE_STYLE,TYPE_ATTRIBUTE_EVENT:g.TYPE_ATTRIBUTE_EVENT,TYPE_TEXT:g.TYPE_TEXT,TYPE_COMMENT:g.TYPE_COMMENT,TOKEN_TYPE:g.TOKEN_TYPE,TOKEN_BINDINGS:g.TOKEN_BINDINGS,TOKEN_REFS:g.TOKEN_REFS,ATTR_NAME:g.ATTR_NAME,ATTR_VALUE:g.ATTR_VALUE,ATTR_NAME_BY_TYPE:g.ATTR_NAME_BY_TYPE,CLASS_BINDING_ENUM:g.CLASS_BINDING_ENUM,CLASS_BINDING_BOOL:g.CLASS_BINDING_BOOL,ELEMENT_NAME:g.ELEMENT_NAME,ELEMENT_ATTRS:g.ELEMENT_ATTRIBUTES_AND_CHILDREN,ELEMENT_ATTRIBUTES_AND_CHILDREN:g.ELEMENT_ATTRIBUTES_AND_CHILDREN,TEXT_VALUE:g.TEXT_VALUE,COMMENT_VALUE:g.COMMENT_VALUE,TemplateSwitchConfig:S,TemplateSwitcher:A,Template:k,switcher:function(e,t){return t||(t=e,e=null),"string"==typeof e&&(e=e.split(/\s+/)),new S({rule:t,events:e})},getDeclFromSource:y,makeDeclaration:b,resolveResource:function(e,t){return/^#\d+$/.test(e)?N[e.substr(1)]:/^id:/.test(e)?l(e.substr(3)):/^[a-z0-9\.]+$/i.test(e)&&!/\.tmpl$/.test(e)?I(e):n.resource(n.resource.resolveURI(e,t,'<b:include src="{url}"/>'))},setIsolatePrefixGenerator:T,resolveTemplateById:E.resolveTemplateById,resolveObjectById:E.resolveObjectById,resolveTmplById:E.resolveTmplById,SourceWrapper:x.SourceWrapper,Theme:x.Theme,theme:x.theme,getThemeList:x.getThemeList,currentTheme:x.currentTheme,setTheme:x.setTheme,onThemeChange:x.onThemeChange,define:x.define,get:x.get,getPathList:x.getPathList}},"1.js":function(e,t,n,r,i,a,s,o,u){var l="basisTemplateId_"+n.genUID(),c={4:"class",5:"style"},f={class:4,style:5},p={2:4,4:3,5:3,6:2},h=r.document,d=!h||function(){var e=h.createElement("div");return e.appendChild(h.createTextNode("a")),e.appendChild(h.createTextNode("a")),1==e.cloneNode(!0).childNodes.length}();t.exports={MARKER:l,TYPE_ELEMENT:1,TYPE_ATTRIBUTE:2,TYPE_ATTRIBUTE_CLASS:4,TYPE_ATTRIBUTE_STYLE:5,TYPE_ATTRIBUTE_EVENT:6,TYPE_TEXT:3,TYPE_COMMENT:8,TOKEN_TYPE:0,TOKEN_BINDINGS:1,TOKEN_REFS:2,ATTR_NAME:3,ATTR_VALUE:4,ATTR_NAME_BY_TYPE:c,ATTR_TYPE_BY_NAME:f,ATTR_VALUE_INDEX:p,ELEMENT_NAME:3,ELEMENT_ATTRIBUTES_AND_CHILDREN:4,TEXT_VALUE:3,COMMENT_VALUE:3,CLASS_BINDING_ENUM:1,CLASS_BINDING_BOOL:2,CLASS_BINDING_INVERT:3,CLASS_BINDING_EQUAL:4,CLASS_BINDING_NOTEQUAL:5,CLONE_NORMALIZATION_TEXT_BUG:d}},"2.js":function(e,t,n,r,i,a,s,o,u){function l(){return n.genUID()+"__"}function c(e){for(var t=[],n=0;n<e.length;n++)t.push(Array.isArray(e[n])?c(e[n]):e[n]);return t}function f(e,t,r,i){var a,s=e;return e.bindingBridge&&(t="baseURI"in e?e.baseURI:"url"in e?n.path.dirname(e.url):t,a="url"in e?e.url:a,s=e.bindingBridge.get(e)),Array.isArray(s)?(r&&(s=c(s)),s={tokens:s}):"object"==typeof s&&Array.isArray(s.tokens)||(s=String(s)),"string"==typeof s&&(s=$(s,t,i,a,e)),s}var p=Object.prototype.hasOwnProperty,h=n.array.search,d=n.array.add,v=n.array.remove,m=n.require("./5.js"),g=n.require("./6.js"),_=n.require("./1.js"),y=_.TYPE_ELEMENT,b=_.TYPE_ATTRIBUTE,T=_.TYPE_ATTRIBUTE_CLASS,E=_.TYPE_ATTRIBUTE_STYLE,x=_.TYPE_ATTRIBUTE_EVENT,I=_.TYPE_TEXT,N=_.TYPE_COMMENT,R=_.TOKEN_TYPE,k=_.TOKEN_BINDINGS,S=_.TOKEN_REFS,A=_.ATTR_NAME,U=_.ATTR_VALUE,j=_.ATTR_NAME_BY_TYPE,B=_.ATTR_TYPE_BY_NAME,O=_.ATTR_VALUE_INDEX,L=_.ELEMENT_ATTRIBUTES_AND_CHILDREN,C=_.TEXT_VALUE,w=_.CLASS_BINDING_ENUM,P=_.CLASS_BINDING_BOOL,z=/^[a-z_][a-z0-9_\-]*$/i,M=/^event-(.+)$/,Y=function(){},D=function(){},$=function(){function e(e){return(e.prefix?e.prefix+":":"")+e.name}function t(e){var t=e.refs;return t&&t.length?t:0}function r(e,t){e[S]||(e[S]=[]),d(e[S],t),"element"!=t&&(e[k]=1==e[S].length?t:0)}function i(e,t){var n=e[S].indexOf(t);if(-1!=n){var r=e[k]&&"number"==typeof e[k];e[S].splice(n,1),r&&n==e[k]-1&&(e[k]=t,r=!1),e[S].length?r&&(e[k]-=n<e[k]-1):e[S]=0}}function a(t){var n={};if(t.attrs)for(var r,i=0;r=t.attrs[i];i++)n[e(r)]=r.value;return n}function s(t){var n={};if(t.attrs)for(var r,i=0;r=t.attrs[i];i++)n[e(r)]=r;return n}function o(e,t){for(var n=0;n<t.length;n++)d(e,t[n])}function u(e,t,n,r){for(var i,a=0;i=t[a];a++)i[1]!==K&&(i[1]=n+i[1]),i[3]||(i[3]=r);e.unshift.apply(e,t)}function c(e,t,r,i,a){var s=t.children[0],o=r?n.resource.resolveURI(r,e.baseURI,'<b:style src="{url}"/>'):n.resource.virtual("css",s?s.value:"",e.sourceUrl).url;return e.resources.push([o,i,t,null,!r&&(s||!0),a]),o}function _(m,g,T){function S(e){for(var t={},n=(e||"").trim().split(/\s*,\s*/),r=0;r<n.length;r++){var i=n[r].split(/\s*:\s*/);if(2!=i.length)return{};t[i[0]]=i[1]}return t}function C(e,t){for(var n,r="number"==typeof e[0]?L:0;n=e[r];r++)if((n[R]==x?"event-"+n[1]:j[n[R]]||n[A])==t)return n}function Y(e,t){var n=e[k];if(n)for(var r,i=0;r=n[i];i++)if(r[2]==t)return r}function V(e,t,n,r,i){var a=C(e,"style");a||(a=[E,0,0],e.push(a));var s=t.binding,o=!1,u=t.name==r,l=a[3];if(s&&s[0].length==s[1].length){var c=a[k];s=s.concat(n,t.name),o=u,c?(v(c,Y(a,n)),c.push(s)):a[k]=[s]}else o=!(u^""===t.value);l&&(l=l.replace(new RegExp(n+"\\s*:\\s*[^;]+(;|$)"),"")),o&&(l=(l?l+" ":"")+i),a[3]=l}function q(e,t){"show"!=t.name&&"hide"!=t.name||V(e,t,"display","show","display: none;"),"visible"!=t.name&&"hidden"!=t.name||V(e,t,"visibility","visible","visibility: hidden;")}function Z(e,t){if(!/[\/\(\)]/.test(t)){var n=[b,[["$role"],[0,t?"/"+t:""]],0,"role-marker"];e.push(n)}}function H(e,t,r,i){var o=a(t),u=s(t);if(r&&(o.name=r),o.name&&z.test(o.name)){var l=Te[o.ref||"element"];if(l&&l.token[R]==y){var c=l.token,f=o.name.match(M),p="class"==o.name||"style"==o.name,h=f?x:B[o.name]||b,m=O[h]||U,g=c&&C(c,o.name);switch(g&&"set"==i&&(v(c,g),g=null),g||"set"!=i&&"append"!=i||(i="set",f?g=[h,f[1]]:(g=[h,0,0,h==b?o.name:""],h==b&&g.push("")),c||(c=[],l.token.push(c)),c.push(g)),i){case"set":if(g[R]==x)return void(o.value==f[1]?g.length=2:g[m]=o.value);P=u.value||{};if(g[k]=P.binding||0,T.optimizeSize&&g[k]&&!p?g.length=m:g[m]=P.value||"",p&&!g[k]&&!g[m])return void v(c,g);break;case"append":var _=(P=u.value||{}).value||"",E=P.binding;if(!f)if(E){var I=g[k];if(I)switch(o.name){case"style":for(var N,S=0;N=E[S];S++)v(I,Y(g,N[2])),I.push(N);break;case"class":I.push.apply(I,E);break;default:E[0].forEach(function(e){d(this,e)},I[0]);for(S=0;S<E[1].length;S++){var A=E[1][S];"number"==typeof A&&(A=I[0].indexOf(E[0][A])),I[1].push(A)}}else g[k]=E,p||g[k][1].unshift(g[m])}else!p&&g[k]&&g[k][1].push(o.value);if(_)if(f||"class"==o.name){var j=(g[m]||"").trim(),L=_.trim();j=j?j.split(/\s+/):[],L=L?L.split(/\s+/):[];for(S=0;S<L.length;S++){var w=L[S];n.array.remove(j,w),j.push(w)}g[m]=j.join(" ")}else g[m]=(g[m]||"")+(g[m]&&p?" ":"")+_;!p||g[k]||g[m]||v(c,g);break;case"remove-class":if(g){var P=u.value||{},D=(g[m]||"").split(" "),$=(P.value||"").split(" "),F=g[k];if(P.binding&&F){for(var V,S=0;V=P.binding[S];S++)for(var G,q=F.length-1;G=F[q];q--){var X=G[0],K=G[3]||G[1];X===V[0]&&K===V[1]&&F.splice(q,1)}F.length||(g[k]=0)}for(S=0;S<$.length;S++)v(D,$[S]);g[m]=D.join(" "),F.length||D.length||v(c,g)}break;case"remove":g&&v(c,g)}}}}for(var W,J,Q=[],ee=0;W=m[ee];ee++){var te=t(W),ne=te&&1==te.length?te[0]:0;switch(W.type){case y:if("b"==W.prefix){var re=a(W),ie=s(W);switch(W.name){case"style":Se=!0;if(re.options){Ae=S(re.options);for(var ae in Ae)Se=Se&&Ae[ae]==T.includeOptions[ae]}if(Se){var se=(je=re[Ue=re.namespace?"namespace":"ns"])?K:"",oe=c(g,W,re.src,se,je);je&&(oe in K==0&&(K[oe]=l()),g.styleNSPrefix[je]={name:je,prefix:K[oe]})}break;case"isolate":g.isolate||(g.isolate=re.prefix||T.isolate||l());break;case"l10n":re.src&&(T.dictURI=n.resource.resolveURI(re.src,g.baseURI,"<b:"+W.name+' src="{url}"/>'));break;case"define":if("name"in re&&"type"in re&&!p.call(T.defines,re.name)){var ue,le,ce=re.from||re.name,fe=re.name,pe=!1;switch(re.type){case"bool":pe=[ce,P,fe,"true"==re.default?1:0];break;case"enum":if("values"in re==0)break;if(!(le=(re.values||"").trim()))break;ue=(le=le.split(/\s+/)).indexOf(re.default),pe=[ce,w,fe,ue+1,le]}pe&&(T.defines[fe]=pe)}break;case"text":var he=W.children[0];m[ee--]=n.object.extend(he,{refs:(re.ref||"").trim().split(/\s+/),value:"notrim"in re?he.value:he.value.replace(/^\s*[\r\n]+|[\r\n]+\s*$/g,"")});break;case"include":var de=re.src;if(de){var ve=D(de,g.baseURI);if(!ve)continue;if(-1==X.indexOf(ve)){var me=ie.isolate?ie.isolate.value||l():"",ge=re.options?S(re.options):null,_e=f(ve,"",!0,n.object.merge(T,{includeOptions:ge}));d(g.deps,ve),g.includes.push({token:W,resource:ve,nested:_e.includes}),_e.deps&&o(g.deps,_e.deps),_e.warns&&g.warns.push.apply(g.warns,_e.warns),_e.resources&&"no-style"in re==0&&u(g.resources,_e.resources,me,W);var ye=n.array(W.children),be={prefix:l()},Te=F(_e.tokens,be);for(var Ee in _e.styleNSPrefix)g.styleNSPrefix[be.prefix+Ee]=n.object.merge(_e.styleNSPrefix[Ee],{});me&&G(_e.tokens,me);for(var xe in ie)switch(xe){case"class":ye.unshift({type:y,prefix:"b",name:"append-class",attrs:[n.object.complete({name:"value"},ie.class)]});break;case"id":ye.unshift({type:y,prefix:"b",name:"set-attr",attrs:[{type:b,name:"name",value:"id"},n.object.complete({name:"value"},ie.id)]});break;case"ref":Te.element&&re.ref.trim().split(/\s+/).map(function(e){r(Te.element.token,e)});break;case"show":case"hide":case"visible":case"hidden":(W=(Me=Te.element)&&Me.token)&&W[R]==y&&q(W,ie[xe]);break;case"role":var Ie=ie.role.value;if(Ie&&!/[\/\(\)]/.test(Ie)){$(_e.tokens,Ie,ie.role,void 0)}}for(var Ne,Re=0;Ne=ye[Re];Re++)if(Ne.type==y&&"b"==Ne.prefix)switch(Ne.name){case"style":var ke=a(Ne),Se=(s(Ne),!0);if(ke.options){var Ae=S(ke.options);for(var ae in Ae)Se=Se&&Ae[ae]==ge[ae]}if(Se){var Ue=ke.namespace?"namespace":"ns",je=ke[Ue],se=je?K:me,oe=c(g,Ne,ke.src,se,je);je&&(oe in K==0&&(K[oe]=l()),g.styleNSPrefix[be.prefix+je]={name:je,prefix:K[oe]})}break;case"replace":case"remove":case"before":case"after":var Be="replace"==Ne.name||"remove"==Ne.name;if(Me=(ze="ref"in(ke=a(Ne))||!Be?ke.ref:"element")&&Te[ze]){var Oe=Me.owner,Le=Oe.indexOf(Me.token);if(-1!=Le){var Ce=[Le+("after"==Ne.name),Be];"remove"!=Ne.name&&(Ce=Ce.concat(_(Ne.children,g,T)||[])),Oe.splice.apply(Oe,Ce)}}break;case"prepend":case"append":if((W=(Me=(ze="ref"in(ke=a(Ne))?ke.ref:"element")&&Te[ze])&&Me.token)&&W[R]==y){var we=_(Ne.children,g,T)||[];"prepend"==Ne.name?W.splice.apply(W,[L,0].concat(we)):W.push.apply(W,we)}break;case"show":case"hide":case"visible":case"hidden":if((W=(Me=(ze="ref"in(ke=a(Ne))?ke.ref:"element")&&Te[ze])&&Me.token)&&W[R]==y){if(!s(Ne).expr)break;q(W,n.object.complete({name:Ne.name},s(Ne).expr))}break;case"attr":case"set-attr":H(0,Ne,!1,"set");break;case"append-attr":H(0,Ne,!1,"append");break;case"remove-attr":H(0,Ne,!1,"remove");break;case"class":case"append-class":H(0,Ne,"class","append");break;case"set-class":H(0,Ne,"class","set");break;case"remove-class":var Pe=s(Ne).value;Pe&&(Pe.value=Pe.value.split(/\s+/).map(function(e){return e.indexOf(":")>0?be.prefix+e:e}).join(" "),Pe.binding&&Pe.binding.forEach(function(e){e[0].indexOf(":")>0&&(e[0]=be.prefix+e[0])}),Pe.map_&&Pe.map_.forEach(function(e){e.value.indexOf(":")>0&&(e.value=be.prefix+e.value)})),H(0,Ne,"class","remove-class");break;case"add-ref":(W=(Me=(ze="ref"in(ke=a(Ne))?ke.ref:"element")&&Te[ze])&&Me.token)&&ke.name&&r(W,ke.name);break;case"remove-ref":(W=(Me=(ze="ref"in(ke=a(Ne))?ke.ref:"element")&&Te[ze])&&Me.token)&&i(W,ke.name||ke.ref);break;case"role":case"set-role":(W=(Me=(ze="ref"in(ke=a(Ne))?ke.ref:"element")&&Te[ze])&&Me.token)&&(v(W,C(W,"role-marker")),Z(W,ke.value||"",Ne));break;case"remove-role":var ze="ref"in(ke=a(Ne))?ke.ref:"element",Me=ze&&Te[ze];(W=Me&&Me.token)&&v(W,C(W,"role-marker"))}else _e.tokens.push.apply(_e.tokens,_([Ne],g,T)||[]);Te.element&&i(Te.element.token,"element"),Q.push.apply(Q,_e.tokens)}}}continue}(J=[1,ne,te,e(W)]).push.apply(J,function(t,n){for(var i,a,s,o,u,l=[],c=0;u=t.attrs[c];c++)if("b"!=u.prefix)(o=u.name.match(M))?s=o[1]==u.value?[x,o[1]]:[x,o[1],u.value]:(s=[u.type,u.binding,0],u.type==b&&s.push(e(u)),!u.value||T.optimizeSize&&u.binding&&u.type==b||s.push(u.value),u.type),l.push(s);else switch(u.name){case"ref":for(var f=(u.value||"").trim().split(/\s+/),p=0;p<f.length;p++)r(n,f[p]);break;case"show":case"hide":i=u;break;case"visible":case"hidden":a=u;break;case"role":Z(l,u.value||"",u)}return i&&q(l,i),a&&q(l,a),l.length?l:0}(W,J,T.optimizeSize)||[]),J.push.apply(J,_(W.children,g,T)||[]);break;case I:te&&2==te.length&&h(te,"element")&&(ne=te[+!te.lastSearchIndex]),J=[3,ne,te],te&&W.value=="{"+te.join("|")+"}"||J.push(W.value);break;case N:if(T.optimizeSize&&!ne&&!te)continue;J=[8,ne,te],T.optimizeSize||te&&W.value=="{"+te.join("|")+"}"||J.push(W.value)}for(;0===J[J.length-1];)J.pop();Q.push(J)}return Q.length?Q:0}function Y(e,t,n){if("string"==typeof e){var r=e.split(":"),i=r[1];if(i&&"l10n"==r[0]){if(2==r.length&&-1==i.indexOf("@")){if(!t)return!1;e="l10n:"+(i=i+"@"+t)}d(n,i)}}return e}function $(e,t,n,r,i){for(var a,s=i||0;a=e[s];s++)switch(a[R]){case y:$(a,t,n,r,L);break;case b:if("role-marker"==a[A]){var o=a[k][1],u=o[1];o[1]="/"+t+(u?"/"+u:"")}}}function F(e,t,n,r){function a(e){if(e.indexOf(":")<=0)return e;var n=e.split(":")[0];return t.map[t.prefix+n]=n,t.prefix+e}n||(n={});for(var s,o=r||0;s=e[o];o++){var u=s[R],l=s[S];if(t&&u==T){var c=s[k],f=O[u];if(s[f]&&(s[f]=s[f].split(/\s+/).map(a).join(" ")),c)for(var p,h=0;p=c[h];h++)p[0]=a(p[0])}if(u!=x&&l)for(var d,v=l.length-1;d=l[v];v--)-1==d.indexOf(":")?(n[d]&&i(n[d].token,d),s[k]==d&&(s[k]=v+1),n[d]={owner:e,token:s}):i(s,d);u===y&&F(s,t,n,L)}return n}function V(e,t,n,r){for(var i,a=r||0;i=e[a];a++){var s=i[R],o=i[k];switch(s){case y:V(i,t,n,L);break;case I:if(o){var u=Y(o,n.dictURI,t.l10n);i[k]=u||0,!1===u&&(i[C]="{"+o+"}")}break;case b:if(o)for(var l=o[0],c=l.length-1;c>=0;c--)if(!1===(u=Y(l[c],n.dictURI,t.l10n))){for(var f=o[1],h=0;h<f.length;h++)"number"==typeof f[h]&&(f[h]==c?f[h]="{"+l[c]+"}":f[h]>c&&(f[h]=f[h]-1));l.splice(c,1),l.length||(i[k]=0)}else l[c]=u;break;case T:if(o){for(var d,h=0;d=o[h];h++)if(!(d.length>2)){var v=d[1].split(":"),m=v.pop(),g=v.pop()||"";if(p.call(n.defines,m)){var _=n.defines[m];d[1]=(g?g+":":"")+_[0],d.push.apply(d,_.slice(1))}else d.push(0)}if(n.optimizeSize){var E=O[s];i[E]||(i.length=E)}}}}}function G(e,t,n,r,i){function a(e){if(-1==e.indexOf(":"))return t+e;if(!n)return e;var r=e.split(":");if(!r[0])return r[1];var i=!!p.call(n.styleNSPrefix,r[0])&&n.styleNSPrefix[r[0]];return!!i&&i.prefix+r[1]}for(var s,o=i||0;s=e[o];o++){var u=s[R];if(u==y&&G(s,t,n,r,L),u==T){var l=s[k],c=O[u];if(s[c]&&(s[c]=s[c].split(/\s+/).map(function(e){return a(e,s.valueLocMap&&s.valueLocMap[e])}).filter(Boolean).join(" ")),l){for(var f,h,d,v=0;f=l[v];v++)!1===(h=a(f[0],(f[0],f[1]),f.loc))?(d=!0,l[v]=null):f[0]=h;d&&(l=l.filter(Boolean),s[k]=l.length?l:0)}}}}function q(e){return e[0]+"|"+e[1]}var X=[],K={},Z={};return function(e,t,i,a,s){var o=[];(i=n.object.slice(i)).includeOptions=i.includeOptions||{},i.defines={},i.dictURI=a?n.path.resolve(a):t||"";var u={sourceUrl:a,baseURI:t||"",tokens:null,includes:[],deps:[],isolate:!1,styleNSPrefix:{},resources:[],l10n:[],warns:o};if(i.dictURI){var l=n.path.extname(i.dictURI);l&&".l10n"!=l&&(i.dictURI=i.dictURI.substr(0,i.dictURI.length-l.length)+".l10n")}if(e.templateTokens||(e=m(String(e),{loc:!!i.loc,range:!!i.range})),X.push(!0!==s&&s||{}),u.tokens=_(e,u,i),X.pop(),u.tokens||(u.tokens=[[I,0,0,""]]),r(u.tokens[0],"element"),F(u.tokens),V(u.tokens,u,i),0==X.length){if(G(u.tokens,u.isolate||"",u,i),u.isolate)for(var c,f=0;c=u.resources[f];f++)c[1]!==K&&(c[1]=u.isolate+c[1]);u.resources=u.resources.filter(function(e,t,r){return e[0]&&!n.array.search(r,q(e),q,t+1)}).map(function(e){var t,r=e[0],i=e[1],a=i===K;if(a&&(i=K[r],r in Z))return Z[r].url;if(!i)return r;var s=n.resource.virtual("css","").ready(function(e){e.url=r+"?isolate-prefix="+i,e.baseURI=n.path.dirname(r)+"/",e.map=t,o()}),o=n.resource(r).ready(function(e){var n=g(e.cssText||"",i,!0);t=n.map,s.update(n.css)});return a&&(Z[r]=s),s.url})}return o.length||(u.warns=!1),u}}();n.resource("./0.js").ready(function(e){D=e.resolveResource,Y=e.Template}),t.exports={VERSION:3,makeDeclaration:$,getDeclFromSource:f,setIsolatePrefixGenerator:function(e){l=e}}},"5.js":function(e,t,n,r,i,a,s,o,u){function l(e){for(var t,n=[],r=[],i={},a=0;a<e.length;a++)a%2?(i[t=e[a]]||(i[t]=n.length,n.push(t)),r.push(i[t])):e[a]&&r.push(w(e[a]));return[n,r]}function c(e,t,n){var r,i,a=e.value,s=0;if(a)switch(t){case"class":var o,u=e.valueRange.start_,c=/(\s*)(\S+)/g,f=[],p=[];for(s=[];_=c.exec(a);){var h=_[2],v={value:h,binding:!1,range:{start_:u+=_[1].length,end_:u+=h.length}};n(v),(i=h.match(j))?((o=[i[1]||"",i[2]]).info_=v,v.binding=!0,s.push(o)):f.push(h),p.push(v)}a=f.join(" "),e.map_=p;break;case"style":var m=[];if(s=[],r=a.match(B))for(var _,y=0;_=r[y];y++){var b=(i=_.match(O))[1],T=(a=i[2].trim()).split(L);if(T.length>1){var E=l(T);E.push(b),s.push(E)}else m.push(b+": "+w(a))}(a=m.join("; "))&&(a+=";");break;default:(r=a.split(U)).length>1?s=l(r):a=w(a)}s&&!s.length&&(s=0),e.binding=s,e.value=a,e.type=g[t]||d}function f(e,t,n){function r(e){return(e.prefix?e.prefix+":":"")+e.name}function i(e){return e.attrs.reduce(function(e,t){return e[r(t)]=t.value,e},{})}function a(e){return{line:l[e],column:f[e]}}function s(e){return{start:a(e.start_),end:a(e.end_)}}function o(e){t.loc&&(e.loc=s(e.range),e.valueRange&&(e.valueLoc=s(e.valueRange))),t.range?(e.range=[e.range.start_,e.range.end_],e.valueRange&&(e.valueRange=[e.valueRange.start_,e.valueRange.end_])):(delete e.range,delete e.valueRange)}function u(e){for(var t,n,r=0;t=e[r++];n=t){if(t.type==h){for(var a,s=i(t),l=0;a=t.attrs[l++];){var f=a.name;if("b"==t.prefix&&"value"==a.name){var p=t.name.match(C);p&&(f="class"==p[1]?"class":s.name)}c(a,f,o),o(a)}u(t.children)}t.type==v&&(t.value=w(t.value),t.refs||!n||n.type!=v||n.refs||(n.value+=t.value,n.end_=t.end_,e.splice(--r,1))),t.type==m&&(t.value=w(t.value)),o(t)}}var l,f;t.loc&&function(){var e=1,t=0;l=new Array(n.length),f=new Array(n.length);for(var r=0;r<n.length+1;r++)l[r]=e,f[r]=t,"\n"===n[r]?(e++,t=0):t++}(),u(e)}var p=n.require("./1.js"),h=p.TYPE_ELEMENT,d=p.TYPE_ATTRIBUTE,v=p.TYPE_TEXT,m=p.TYPE_COMMENT,g=p.ATTR_TYPE_BY_NAME,_="Invalid or unsupported syntax",y=/((?:.|[\r\n])*?)(\{(?:l10n:([a-zA-Z_][a-zA-Z0-9_\-]*(?:\.[a-zA-Z_][a-zA-Z0-9_\-]*)*(?:\.\{[a-zA-Z_][a-zA-Z0-9_\-]*\})?)\})?|<(\/|!--(\s*\{)?)?|$)/g,b=/([a-z_][a-z0-9\-_]*)(:|\{|\s*(\/?>)?)/gi,T=/([a-z_][a-z0-9_\-]*)(:|\{|=|\s*)|(\/?>)/gi,E=/(.|[\r\n])*?-->/g,x=/([a-z_][a-z0-9_\-]*(?::[a-z_][a-z0-9_\-]*)?)>/gi,I=/([a-z_][a-z0-9_]*)(\||\}\s*)/gi,N=/"((?:(\\")|[^"])*?)"\s*/g,R=/\\"/g,k=/^/g,S=/^(area|base|br|col|command|embed|hr|img|input|link|meta|param|source)$/i,A={text:/((?:.|[\r\n])*?)(?:<\/b:text>|$)/g,style:/((?:.|[\r\n])*?)(?:<\/b:style>|$)/g},U=/\{([a-z_][a-z0-9_]*|l10n:[a-z_][a-z0-9_]*(?:\.[a-z_][a-z0-9_]*)*(?:\.\{[a-z_][a-z0-9_]*\})?)\}/i,j=/^((?:[a-z_][a-z0-9_\-]*)?(?::(?:[a-z_][a-z0-9_\-]*)?)?)\{((anim:)?[a-z_][a-z0-9_\-]*)\}$/i,B=/\s*[^:]+?\s*:(?:\(.*?\)|".*?"|'.*?'|[^;]+?)+(?:;|$)/gi,O=/\s*([^:]+?)\s*:((?:\(.*?\)|".*?"|'.*?'|[^;]+?)+);?$/i,L=/\{([a-z_][a-z0-9_]*)\}/i,C=/^(?:|append-|set-|remove-)(class|attr)$/,w=function(){function e(e,n){return t[n]||("#"==n.charAt(0)?t[n]=String.fromCharCode("x"==n.charAt(1)||"X"==n.charAt(1)?parseInt(n.substr(2),16):n.substr(1)):i&&(i.innerHTML=e,t[n]=i.firstChild?i.firstChild.nodeValue:e)),t[n]||e}var t={},i=n.NODE_ENV?null:r.document.createElement("div"),a=/&([a-z]+\d*|#\d+|#x[0-9a-f]{1,4});?/gi;return function(t){return String(t).replace(a,e)}}();t.exports=function(e,t){var n,r,i,a,s,o=[],u=[],l={children:o},c=!1,p=y,g=0,U=0;for(t&&!1===t.trim||(g=U=e.match(/^\s*/)[0].length,e=e.trimRight());g<e.length||p!=y;)if(p.lastIndex=g,a=g,(s=p.exec(e))&&s.index===g){switch(g=p.lastIndex,p){case y:if(r=a+s[1].length,U!=r){var j=U==a?s[1]:e.substring(U,r);(j=j.replace(/\s*(\r\n?|\n\r?)\s*/g,""))&&l.children.push({type:v,value:j,range:{start_:U,end_:r}})}U=r,s[3]?l.children.push({type:v,refs:["l10n:"+s[3]],value:"{l10n:"+s[3]+"}",range:{start_:r,end_:g}}):"{"==s[2]?(i=g-1,l.children.push(n={type:v,range:{start_:r,end_:r}}),p=I):s[4]?"/"==s[4]?(n=null,p=x):(l.children.push(n={type:m,range:{start_:r,end_:r}}),s[5]?(i=g-s[5].length,p=I):(i=g,p=E)):s[2]&&(c=!0,u.push(l),l.children.push(n={type:h,attrs:[],children:[],range:{start_:r,end_:r}}),l=n,p=b);break;case x:s[1]!==(l.prefix?l.prefix+":":"")+l.name?l.children.push({type:v,value:"</"+s[0],range:{start_:a-2,end_:a+s[0].length}}):l=u.pop(),p=y;break;case b:case T:if(":"==s[2]){n.prefix?p=k:n.prefix=s[1];break}if(s[1]&&(n.name=s[1],n.range.end_=a+s[1].length,n.type==d&&l.attrs.push(n)),"{"==s[2]){p=n.type==h?I:k;break}if(s[3]){if(c=!1,l.range.end_=g,"/>"==s[3]||!l.prefix&&S.test(l.name))l=u.pop();else if("b"==l.prefix&&l.name in A){p=A[l.name];break}p=y;break}if("="==s[2]){p=N;break}n={type:d,range:{start_:g,end_:g}},p=T;break;case E:n.value=e.substring(i,g-3),n.range.end_=g,p=y;break;case I:n.refs?n.refs.push(s[1]):n.refs=[s[1]],"|"!=s[2]&&(n.type==v?(g-=s[2].length-1,n.value=e.substring(i,g),n.range.end_=g,p=y):n.type==m?p=E:n.type==d&&"="==e[g]?(g++,p=N):(n={type:d,range:{start_:g,end_:g}},p=T));break;case N:n.value=s[1].replace(R,'"'),n.range.end_=g,n.valueRange={start_:a+1,end_:a+1+s[1].length},n={type:d,range:{start_:g,end_:g}},p=T;break;case A.text:case A.style:l.children.push({type:v,value:s[1],range:{start_:a,end_:a+s[1].length}}),l=u.pop(),p=y;break;default:throw _}p==y&&(U=g)}else{if(p==I&&n&&n.type==m){p=E;continue}c&&(l=u.pop()),n&&l.children.pop(),(n=l.children.pop())&&(n.type!=v||n.refs?l.children.push(n):U-=n.value.length),c=!1,p=y}return U!=g&&l.children.push({type:v,value:e.substring(U,g),range:{start_:U,end_:g}}),f(o,t||{},e),o.templateTokens=!0,o}},"6.js":function(e,t,n,r,i,a,s,o,u){function l(){return n.genUID()+"__"}var c=/^\-?([_a-z]|[^\x00-\xb1]|\\[0-9a-f]{1,6}(\r\n|[ \n\r\t\f])?|\\[^\n\r\f0-9a-f])/i,f=8,p=/^(media|supports|document)\b/i,h=8,d=/^(not|has|matches|nth-child|nth-last-child)\(/i,v=15;t.exports=function(e,t,n){function r(t,n){var r=e.indexOf(t,n);R=-1!==r?r+t.length:x.length}function i(){var e=x[R];if('"'===e||"'"===e){for(R++;R<I&&x[R]!==e;R++)"\\"===x[R]&&R++;return!0}}function a(){var e=x[R];if("("===e)return r(")",R+1),!0;if("["===e){for(R++;R<I&&"]"!==x[R];R++)i();return!0}}function s(){if("/"===x[R]&&"*"===x[R+1])return r("*/",R+2),!0}function o(){for(;R<I&&")"!=x[R];R++)if(s()||a()||u()||_())continue}function u(){if(":"===x[R]){var t=e.substr(R+1,v).match(d);return t&&(R+=t[0].length+1,o()),!0}}function m(){if("@"===x[R]){var t=e.substr(R+1,h).match(p);return t&&(R+=t[0].length,b=!0),!0}}function g(){if("{"===x[R]){if(b)return R++,void y(!0);for(R++;R<I&&"}"!==x[R];R++)i()||a();return!0}}function _(){if("."===x[R])return e.substr(R+1,f).match(c)&&(T[++R+E.length/2*t.length-1]=R,E.push(e.substring(N,R),t),N=R),!0}function y(e){for(b=!1;R<I;R++)if(!(s()||m()||u()||a()||i()||_())){if(e&&"}"==x[R])return;g()}}var b,T={},E=[],x=e.split(""),I=x.length,N=0,R=0;return t||(t=l()),y(!1),E=E.join("")+e.substring(N),n?{css:E,map:T,prefix:t}:E}},"3.js":function(e,t,n,r,i,a,s,o,u){function l(e){var t=e>>12,n=c[4095&e];return n&&n.instances[t]}var c={};t.exports={add:function(e,t,n){c[e]={template:t,instances:n}},remove:function(e){delete c[e]},resolveActionById:function(e){var t=l(e);return t&&{context:t.context,action:t.action}},resolveTemplateById:function(e){var t=c[4095&e];return t&&t.template},resolveObjectById:function(e){var t=l(e);return t&&t.context},resolveTmplById:function(e){var t=l(e);return t&&t.tmpl}}},"4.js":function(e,t,n,r,i,a,s,o,u){function l(){var e=n.array(arguments).join("."),t=b[e];return t||(t=new I("",e),b[e]=t),t}function c(e){for(var t={},n=[],r=0;r<e.length;r++)t[e[r]]||(t[e[r]]=!0,n.push(e[r]));return n}function f(e,t){var n=[];n.source=c(t).join("/");for(var r={base:!0},i=0;i<t.length;i++){var a=t[i]||"base";a==e||r[a]||(r[a]=!0,n.push(a),m(a),t.splice.apply(t,[i+1,0].concat(y[a].fallback)))}return n.unshift(e),"base"!=e&&n.push("base"),n.value=n.join("/"),n}function p(e,t){for(var n,r=y[e].sourcesList,i=0;n=r[i];i++)if(n.hasOwnProperty(t))return n[t];return""}function h(e){return-1!=y[E].fallback.indexOf(e)}function d(e){l(e).set()}function v(){for(var e in b)d(e)}function m(e){if(e||(e="base"),y[e])return y[e].theme;if(!/^([a-z0-9\_\-]+)$/.test(e))throw"Bad name for theme - "+e;var t={},r=[t],i=new x;y[e]={theme:i,sources:t,sourcesList:r,fallback:[]};var a=function(n,r){return n in t==0&&(t[n]=r,h(e)&&d(n)),l(n)};return n.object.extend(i,{name:e,fallback:function(t){if(i!==g&&arguments.length>0){var n="string"==typeof t?t.split("/"):[],r={};if(n=f(e,n),y[e].fallback.source!=n.source){y[e].fallback.source=n.source;for(var a in y){var s=y[a].fallback;if((n=f(a,(s.source||"").split("/"))).value!=s.value){r[a]=!0,y[a].fallback=n;var o=y[a].sourcesList;o.length=n.length;for(var u=0;u<o.length;u++)o[u]=y[n[u]].sources}}}for(var a in r)if(h(a)){v();break}}var l=y[e].fallback.slice(1);return l.source=y[e].fallback.source,l},define:function(e,t){if("function"==typeof e&&(e=e()),"string"==typeof e){if("object"==typeof t){var n=e,r=t,s={};for(var o in r)r.hasOwnProperty(o)&&(s[o]=a(n+"."+o,r[o]));return s}return 1==arguments.length?l(e):a(e,t)}if("object"==typeof e){r=e;for(var u in r)r.hasOwnProperty(u)&&a(u,r[u]);return i}},apply:function(){if(e!=E){E=e,v();for(var t,n=0;t=T[n];n++)t.fn.call(t.context,e)}return i},getSource:function(n,r){return r?p(e,n):t[n]},drop:function(n){t.hasOwnProperty(n)&&(delete t[n],h(e)&&d(n))}}),y[e].fallback=f(e,[]),r.push(y.base.sources),i}var g,_=this.path,y={},b={},T=[],E="base",x=n.Class(null,{className:_+".Theme",get:l}),I=n.Class(n.Token,{className:_+".SourceWrapper",path:"",url:"",baseURI:"",init:function(e,t){this.path=t,n.Token.prototype.init.call(this,"")},get:function(){return this.value&&this.value.bindingBridge?this.value.bindingBridge.get(this.value):this.value},set:function(){var e=p(E,this.path);this.value!=e&&(this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,I.prototype.apply,this),this.value=e,this.url=e&&e.url||"",this.baseURI=("object"==typeof e||"function"==typeof e)&&"baseURI"in e?e.baseURI:n.path.dirname(this.url)+"/",this.value&&this.value.bindingBridge&&this.value.bindingBridge.attach(this.value,I.prototype.apply,this),this.apply())},destroy:function(){this.url=null,this.baseURI=null,this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,this.apply,this),n.Token.prototype.destroy.call(this)}});n.cleaner.add({destroy:function(){for(var e in b)b[e].destroy();y=null,b=null}}),g=m(),t.exports={SourceWrapper:I,Theme:x,theme:m,getThemeList:function(){return n.object.keys(y)},currentTheme:function(){return y[E].theme},setTheme:function(e){return m(e).apply()},onThemeChange:function(e,t,n){T.push({fn:e,context:t}),n&&e.call(t,E)},define:g.define,get:l,getPathList:function(){return n.object.keys(b)}},m("base").define({".0":n.resource("./0.tmpl"),".1":n.resource("./1.tmpl")})}};!function n(r,i,a){function s(e){function t(e){return Math.round(e).toString(36)}var n=t(10+25*Math.random());for(e||(e=16);n.length<e;)n+=t(new Date*Math.random());return n.substr(0,e)}function o(e,t){for(var n in t)e[n]=t[n];return e}function u(e,t){for(var n in t)n in e==0&&(e[n]=t[n]);return e}function l(e){var t=[];for(var n in e)t.push(n);return t}function c(e,t){var n={};if(!t)return o(n,e);for(var r,i=0;r=t[i++];)r in e&&(n[r]=e[r]);return n}function f(){for(var e={},t=0;t<arguments.length;t++)o(e,arguments[t]);return e}function p(e,t,n){var r=[];for(var i in e)r.push(t.call(n,i,e[i]));return r}function h(e){return e}function d(){}function v(e){"function"!=typeof e&&(e=O(e));var t=function(t){return e(t)};return t.factory=U,t}function m(e){var t=H[e.url];if(t)for(var n=0;n<t.length;n++)t[n](e.get(),e.url)}function g(e,t,n){try{return new Function(t,'"use strict";\n'+n)}catch(t){C.error("Compilation error at "+e+("line"in t?":"+(t.line-1):"")+": "+t)}}function _(e){if(e in ie==0){var t=e.split("."),n=t.shift(),r=J(n+":"+t.join("/")+".js").replace(/\/\.js$/,".js");ie[e]=r,ae[r]=e}return ie[e]}function y(e){var t=re[e];return t||((t=re[e]=new oe(e)).namespaces_={},t.namespaces_[e]=t,$.noConflict||(x[e]=t)),t}function b(e){if(A.call(re,e))return re[e];for(var t=y((e=e.split("."))[0]),n=t,r=1;r<e.length;r++){var i=e[r],a=e.slice(0,r+1).join(".");if(!A.call(t.namespaces_,a)){var s=new oe(a);$.implicitExt&&(n[i]=s),t.namespaces_[a]=s}n=t.namespaces_[a]}return re[e.join(".")]=n,n}function T(e,t){if(null!=e){var n=e.length;if(void 0===n||"[object Function]"==S.call(e))return[e];if(t||(t=0),n-t>0){for(var r=[],i=0,a=t;a<n;)r[i++]=e[a++];return r}}return[]}function E(e,t,n){for(var r=[],i="function"==typeof t,a=0;a<e;a++)r[a]=i?t.call(n,a,r):t;return r}var x=Function("return this")(),I=x.process,N=x.document,R=x.location,k=!(x===r||!I||!I.argv)&&x,S=Object.prototype.toString,A=Object.prototype.hasOwnProperty,U={},j={},B=function(){},O=function(){function e(t){var a,s,l,f=this;if("function"==typeof t||"string"==typeof t){if(a=n(t,f[o]),l=i+a[o],A.call(f,l))return f[l];"function"==typeof a[u]&&(a=a[u]),s=function(e){return a(f(e))}}else{var p=t;if(!p)return L;s=function(e){return p[f(e)]}}return s[o]=c++,s[u]=t,s.__extend__=r,s.as=e,l&&(f[l]=s),s}function t(e){return new Function("object","return object != null ? object."+e+" : object")}function n(n,i){var a,s=n;if(n&&"string"==typeof n){if(A.call(f,n))return f[n];s=f[n]=t(n)}return"function"!=typeof s?L:s.__extend__===r?s:A.call(s,i)?s[i]:(a=s[i]=s!==n?s:function(e){return s(e)},a[o]=c++,a[u]=n,a.__extend__=r,a.as=e,a)}function r(e,t){var r=e&&e!==L?n(e,a):L;return t||""===t?("string"==typeof t&&(t=de.formatter(t)),r.as(t)):r}var i="basisGetterId"+s()+"_",a=i+"root",o=i,u=i+"base",l=i+"parent",c=1,f={};return r.ID=o,r.SOURCE=u,r.PARENT=l,r}(),L=function(){var e=function(){};return e[O.ID]=O.ID+"nullGetter",e.__extend__=O,e.as=function(){return e},e}(),C=function(){var e=x.console,t={log:d,info:d,warn:d,error:d};return e&&p(t,function(n){t[n]="bind"in Function.prototype&&"function"==typeof e[n]?Function.prototype.bind.call(e[n],e):function(){Function.prototype.apply.call(e[n],e,arguments)}}),t}(),w=x.setImmediate||x.msSetImmediate,P=x.clearImmediate||x.msSetImmediate;w&&(w=w.bind(x)),P&&(P=P.bind(x)),w||function(){var e=function(){var e={},n=0;return w=function(r){if("function"==typeof r)return e[++n]={fn:r,args:T(arguments,1)},t(n),n},P=function(t){delete e[t]},function(t){var n=e[t];n&&(delete e[t],n.fn.apply(void 0,n.args)),z.process()}}(),t=function(t){setTimeout(function(){e(t)},0)};if(k&&k.process&&"function"==typeof I.nextTick)t=function(t){I.nextTick(function(){e(t)})};else{var n=x.postMessage&&!x.importScripts;if(n){var r=x.onmessage;x.onmessage=function(){n=!1},x.postMessage("","*"),x.onmessage=r}if(n){var i={},a=function(t){if(t&&t.source==x){var n=t.data;if(A.call(i,n)){var r=i[n];delete i[n],e(r)}}};x.addEventListener?x.addEventListener("message",a,!0):x.attachEvent("onmessage",a),t=function(e){var t=s(32);i[t]=e,x.postMessage(t,"*")}}else if(x.MessageChannel){var o=new x.MessageChannel;o.port1.onmessage=function(t){e(t.data)},t=function(e){o.port2.postMessage(e)}}else{var u=function(){return N.createElement("script")};if(N&&"onreadystatechange"in u()){var l=t;t=function n(r){void 0!==be&&(t=l,be.head.ready(function(){t=function(t){var n=u();n.onreadystatechange=function(){n.onreadystatechange=null,be.remove(n),n=null,e(t)},be.head.add(n)}})),t===n?l(r):t(r)}}}}}();var z=function(){function e(){try{i=!0;for(var e;e=r.shift();)e.fn.call(e.context)}finally{i=!1,r.length&&(n=w(t))}}function t(){n&&(n=P(n)),r.length&&e()}var n,r=[],i=!1,a=function(e,i){return r.push({fn:e,context:i}),n||(n=w(t)),!0};return a.process=function(){i||t()},a.schedule=function(e){function t(){var i=w(t);r=!1;for(var a in n){var s=n[a];delete n[a],e(s)}P(i),r||(n={})}var n={},r=!1;return{add:function(e){n[e.basisObjectId]=e,r||(r=a(t))},remove:function(e){delete n[e.basisObjectId]}}},a}(),M=function(){var e=0,t={id:e,start:function(){t.id=e++},finish:function(){z.process(),t.id="unknown"}};return t}(),Y=function(){var e,t,n,r=/^([^\/]+:|\/)/,i=/^[a-zA-Z0-9\-]+:\/?/,a=/^(?:[a-zA-Z0-9\-]+:)?\/\/[^\/]+\/?/,s=/[\?#].*$/;if(k){var o=(I.basisjsBaseURI||"/").replace(/\\/g,"/");e=o.replace(/^[^\/]*/,""),t=o.replace(/\/.*/,"")}else e=R.pathname.replace(/[^\/]+$/,""),t=R.protocol+"//"+R.host;return n={baseURI:e,origin:t,normalize:function(e){for(var t=[],n=(e=(e||"").replace(i,"/").replace(a,"/").replace(s,"")).split("/"),r=0;r<n.length;r++)".."==n[r]?(t.length>1||t[0])&&t.pop():!n[r]&&r||"."==n[r]||t.push(n[r]);return t.join("/")||("/"===e[0]?"/":"")},dirname:function(e){var t=n.normalize(e);return t.replace(/\/([^\/]*)$|^[^\/]+$/,"")||("/"==t[0]?"/":".")},extname:function(e){var t=n.normalize(e).match(/[^\/](\.[^\/\.]*)$/);return t?t[1]:""},basename:function(e,t){var r=n.normalize(e).match(/[^\\\/]*$/);return r=r?r[0]:"",t==n.extname(r)&&(r=r.substring(0,r.length-t.length)),r},resolve:function(){for(var t=T(arguments).reverse(),i=[],a=!1,s=0;!a&&s<t.length;s++)"string"==typeof t[s]&&(i.unshift(t[s]),a=r.test(t[s]));return a||i.unshift("/"==e?"":e),n.normalize(i.join("/"))},relative:function(t,r){if("string"!=typeof r&&(r=t,t=e),t=n.normalize(t),r=n.normalize(r),"/"==t[0]&&"/"!=r[0])return t;if("/"==r[0]&&"/"!=t[0])return r;for(var i=t.replace(/^\/$/,"").split(/\//),a=r.replace(/^\/$/,"").split(/\//),s=[],o=0;a[o]==i[o]&&"string"==typeof i[o];)o++;for(var u=i.length-o;u>0;u--)s.push("..");return s.concat(a.slice(o).filter(Boolean)).join("/")}}}(),D=i||"",$=a||{implicitExt:!0,modules:{}},F=function(){function e(e){return"function"==typeof e&&!!e.basisClassId_}function t(e){for(var t=this;t&&t!==e;)t=t.superClass_;return t===e}function n(u){var c=a++;"function"!=typeof u&&(u=l);var p=function(){};p.prototype=u.prototype;for(var h,d=new p,m={basisClassId_:c,superClass_:u,extendConstructor_:!!u.extendConstructor_,isSubclassOf:t,subclass:function(){return n.apply(null,[_].concat(T(arguments)))},extend:r,factory:function(e){return v(function(t){return new _(f(e,t))})},__extend__:function(t){return t&&t!==s&&("object"==typeof t||"function"==typeof t&&!e(t))?l.create.call(null,_,t):t},prototype:d},g=1;h=arguments[g];g++)m.extend(h);var _=m.extendConstructor_?function(e){this.basisObjectId=i.id++;var t;for(var n in e)t=this[n],this[n]=t&&t.__extend__?t.__extend__(e[n]):e[n];this.init(),this.postInit()}:function(){this.basisObjectId=i.id++,this.init.apply(this,arguments),this.postInit()};d.constructor=_;for(var y in d)d[y]===s&&(d[y]=_);return o(_,m),_}function r(t){var n=this.prototype;"function"!=typeof t||e(t)||(t=t(this.superClass_.prototype,c(n))),t.prototype&&(t=t.prototype);for(var r in t){var i=t[r],a=n[r];"className"==r||"extendConstructor_"==r?this[r]=i:a&&a.__extend__?n[r]=a.__extend__(i):n[r]=i}return u&&t[r="toString"]!==S&&(n[r]=t[r]),this}var i={id:1},a=1,s={},u=function(){for(var e in{toString:1})return!1;return!0}(),l=o(n,{className:"basis.Class",extendConstructor_:!1,prototype:{basisObjectId:0,constructor:null,init:function(){},postInit:function(){},destroy:function(){for(var e in this)A.call(this,e)&&(this[e]=null);this.destroy=d}}}),p=function(e,t){return{__extend__:function(e){if(!e)return e;if(e&&e.__extend__)return e;var n=function(){};n.prototype=this;var r=new n;return t(r,e),r}}.__extend__(e||{})},h=function(e){return p(e,o)};return o(l,{SELF:s,create:n,isClass:e,customExtendProperty:p,extensibleProperty:h,nestedExtendProperty:function(e){return p(e,function(e,t){for(var n in t)if(A.call(t,n)){var r=e[n],i=t[n];e[n]=i?r&&r.__extend__?r.__extend__(i):h(i):null}})},oneFunctionProperty:function(e,t){var n=function(t){var r={__extend__:n};if(t){if(t.__extend__)return t;for(var i in t)A.call(t,i)&&t[i]&&(r[i]=e)}return r};return n(t||{})}})}(),V=F(null,{className:"basis.Token",value:null,handler:null,deferredToken:null,bindingBridge:{attach:function(e,t,n,r){e.attach(t,n,r)},detach:function(e,t,n){e.detach(t,n)},get:function(e){return e.get()}},init:function(e){this.value=e},get:function(){return this.value},set:function(e){this.value!==e&&(this.value=e,this.apply())},attach:function(e,t,n){this.handler={fn:e,context:t,destroy:n||null,handler:this.handler}},detach:function(e,t){for(var n,r=this;n=r,r=r.handler;)if(r.fn===e&&r.context===t)return r.fn=d,r.destroy=r.destroy&&d,void(n.handler=r.handler)},apply:function(){for(var e=this.get(),t=this;t=t.handler;)t.fn.call(t.context,e)},deferred:function(){var e=this.deferredToken;return e||(e=this.deferredToken=new q(this.get()),this.attach(e.set,e)),e},as:function(e){var t=new V,n=function(t){this.set(e.call(this,t))};return"function"!=typeof e&&(e=O(e)),n.call(t,this.get()),this.attach(n,t,t.destroy),t.attach(d,this,function(){this.detach(n,t)}),t},destroy:function(){this.deferredToken&&(this.deferredToken.destroy(),this.deferredToken=null),this.attach=d,this.detach=d;for(var e=this;e=e.handler;)e.destroy&&e.destroy.call(e.context);this.handler=null,this.value=null}}),G=z.schedule(function(e){e.apply()}),q=V.subclass({className:"basis.DeferredToken",set:function(e){this.value!==e&&(this.value=e,G.add(this))},deferred:function(){return this}}),X={},K={},Z={},H={},W=1;!function(){var e=void 0!==t?t:null;if(e)for(var n in e)Z[Y.resolve(n)]=e[n]}();var J=function(e,t){var n=e.match(/^([a-zA-Z0-9\_\-]+):/);if(n){var r=n[1];r in se==0&&(se[r]=Y.baseURI+r+"/"),e=se[r]+Y.normalize("./"+e.substr(n[0].length))}else e=Y.resolve(t,e);return e},Q=function(e,t){if(t||!A.call(Z,e)){var n="";if(k)try{n=I.basisjsReadFile?I.basisjsReadFile(e):""}catch(e){}else{var r=new x.XMLHttpRequest;r.open("GET",e,!1),r.setRequestHeader("If-Modified-Since",new Date(0).toGMTString()),r.setRequestHeader("X-Basis-Resource",1),r.send(""),r.status>=200&&r.status<400&&(n=r.responseText)}Z[e]=n}return Z[e]},ee=function(e,t){var n=Y.extname(e),r=te.extensions[n],i=arguments.length>1,a=!1,s=!1;i&&(e+="#virtual");var u=function(){if(a)return t;var n=i?t:Q(e);return r?s||(s=!0,t=r(n,e)):t=n,a=!0,m(u),u.apply(),t};return o(u,o(new V,{url:e,type:n,virtual:i,fetch:function(){return u()},toString:function(){return"[basis.resource "+e+"]"},isResolved:function(){return a},update:function(n){a&&!i&&n==Z[e]||(i||(Z[e]=n),r?(!s&&i&&(t=n),s&&!r.permanent&&(t=r(n,e,t),m(u),u.apply())):(t=n,a=!0,m(u),u.apply()))},reload:function(){if(!i){var t=Z[e],n=Q(e,!0);n!=t&&(a=!1,u.update(n))}},get:function(n){return i&&n?r?void 0:t:n?Q(e):u()},ready:function(e,t){if(!(a&&(e.call(t,u()),r&&r.permanent)))return u.attach(e,t),u}})),X[e]=u,K[e]=u,u},te=function(e,t){var n=t?t+"\0"+e:e,r=K[n];if(!r){var i=J(e,t,"basis.resource('{url}')");r=X[i]||ee(i),K[n]=r}return r};o(te,{resolveURI:J,isResource:function(e){return!!e&&X[e.url]===e},isResolved:function(e){var t=te.get(e);return!!t&&t.isResolved()},exists:function(e){return A.call(X,J(e,null,"basis.resource.exists('{url}')"))},get:function(e){return e=J(e,null,"basis.resource.get('{url}')"),te.exists(e)?te(e):null},getFiles:function(e){return e?l(Z):l(X).filter(function(e){return!X[e].virtual})},virtual:function(e,t,n){return ee((n?n+":":Y.normalize("/"==Y.baseURI?"":Y.baseURI)+"/")+"virtual-resource"+W+++"."+e,t)},extensions:{".js":o(function(e,t){var n=ae[t];if(!n){var r=!0,i=(Y.dirname(t)+"/"+Y.basename(t,Y.extname(t))).replace(/^\/\//,"/");for(var a in se){var s=se[a]+a+"/";if(i.substr(0,s.length)==s){r=!1,i=i.substr(se[a].length);break}}n=i.replace(/\./g,"_").replace(/^\//g,"").replace(/\//g,"."),r&&(n="implicit."+n)}return(a=b(n)).inited||(a.inited=!0,a.exports=ne({path:a.path,exports:a.exports},t,e).exports,a.exports&&a.exports.constructor===Object&&$.implicitExt&&u(a,a.exports)),a.exports},{permanent:!0}),".css":function(e,t,n){return n||(n=new Ee(t)),n.updateCssText(e),n},".json":function(e){if("object"==typeof e)return e;var t;try{e=String(e),t=Ie.json.parse(e)}catch(e){}return t||null}}});var ne=function(e,t,n){var r=Y.dirname(t),i=n;return e.exports||(e.exports={}),"function"!=typeof i&&(i=g(t,["exports","module","basis","global","__filename","__dirname","resource","require","asset"],n)),"function"==typeof i&&i.call(e.exports,e.exports,e,Ie,x,t,r,function(e){return te(e,r)},function(e){return ue(e,r)},function(e){return J(e,r,"asset('{url}')")}),e},re={},ie={},ae={},se={};p($.modules,function(e,t){se[e]=t.path+"/",ie[e]=t.filename,ae[t.filename]=e}),function(t){if(t=void 0!==e?e:null)for(var n in t){var r=Y.resolve(n),i=t[n];ae[r]=i,ie[i]=r}}();var oe=F(null,{className:"basis.Namespace",init:function(e){this.name=e,this.exports={path:this.name}},toString:function(){return"[basis.namespace "+this.path+"]"},extend:function(e){return o(this.exports,e),u(this,e)}}),ue=function(e,t){var n=Y.extname(e);return/[^a-z0-9_\.]/i.test(e)||".js"==n?/[\?#]/.test(e)||(n||(e+=".js"),e=J(e,t,"basis.require('{url}')")):e=_(e),te(e).fetch()};u(Function.prototype,{bind:function(e){var t=this,n=T(arguments,1);return n.length?function(){return t.apply(e,n.concat.apply(n,arguments))}:function(){return t.apply(e,arguments)}}}),u(Array,{isArray:function(e){return"[object Array]"===S.call(e)}}),u(Array.prototype,{indexOf:function(e,t){if((t=parseInt(t,10)||0)<0)return-1;for(;t<this.length;t++)if(this[t]===e)return t;return-1},lastIndexOf:function(e,t){var n=this.length;for(t=parseInt(t,10),t=isNaN(t)||t>=n?n-1:(t+n)%n;t>=0;t--)if(this[t]===e)return t;return-1},forEach:function(e,t){for(var n=0,r=this.length;n<r;n++)n in this&&e.call(t,this[n],n,this)},every:function(e,t){for(var n=0,r=this.length;n<r;n++)if(n in this&&!e.call(t,this[n],n,this))return!1;return!0},some:function(e,t){for(var n=0,r=this.length;n<r;n++)if(n in this&&e.call(t,this[n],n,this))return!0;return!1},filter:function(e,t){for(var n=[],r=0,i=this.length;r<i;r++)r in this&&e.call(t,this[r],r,this)&&n.push(this[r]);return n},map:function(e,t){for(var n=[],r=0,i=this.length;r<i;r++)r in this&&(n[r]=e.call(t,this[r],r,this));return n},reduce:function(e,t){var n=this.length,r=arguments.length;if(0==n&&1==r)throw new TypeError;var i,a=0;r>1&&(i=t,a=1);for(var s=0;s<n;s++)s in this&&(i=a++?e.call(null,i,this[s],s,this):this[s]);return i}});var le={from:T,create:E,flatten:function(e){return e.concat.apply([],e)},repeat:function(e,t){return le.flatten(E(parseInt(t,10)||0,e))},search:function(e,t,n,r){e.lastSearchIndex=-1,n=O(n||h);for(var i=parseInt(r,10)||0,a=e.length;i<a;i++)if(n(e[i])===t)return e[e.lastSearchIndex=i]},lastSearch:function(e,t,n,r){e.lastSearchIndex=-1,n=O(n||h);for(var i=e.length,a=isNaN(r)||null==r?i:parseInt(r,10),s=a>i?i:a;s-- >0;)if(n(e[s])===t)return e[e.lastSearchIndex=s]},add:function(e,t){return-1==e.indexOf(t)&&!!e.push(t)},remove:function(e,t){var n=e.indexOf(t);return-1!=n&&!!e.splice(n,1)},has:function(e,t){return-1!=e.indexOf(t)},sortAsObject:function(){return le.sort.apply(this,arguments)},sort:function(e,t,n,r){return t=O(t),r=r?-1:1,e.map(function(e,n){return{i:n,v:t(e)}}).sort(n||function(e,t){return r*(e.v>t.v||-(e.v<t.v)||(e.i>t.i?1:-1))}).map(function(e){return this[e.i]},e)}};if(![1,2].splice(1).length){var ce=Array.prototype.splice;Array.prototype.splice=function(){var e=T(arguments);return e.length<2&&(e[1]=this.length),ce.apply(this,e)}}var fe=/([\/\\\(\)\[\]\?\{\}\|\*\+\-\.\^\$])/g,pe=/\{([a-z\d_]+)(?::([\.0])(\d+)|:(\?))?\}/gi,he={};u(String,{toLowerCase:function(e){return String(e).toLowerCase()},toUpperCase:function(e){return String(e).toUpperCase()},trim:function(e){return String(e).trim()},trimLeft:function(e){return String(e).trimLeft()},trimRight:function(e){return String(e).trimRight()}}),u(String.prototype,{trimLeft:function(){return this.replace(/^\s+/,"")},trimRight:function(){return this.replace(/\s+$/,"")},trim:function(){return this.trimLeft().trimRight()}});var de={toObject:function(e,t){try{return new Function("return 0,"+e)()}catch(e){if(t)throw e}},repeat:function(e,t){return new Array(parseInt(t,10)+1||0).join(e)},qw:function(e){var t=e.trim();return t?t.split(/\s+/):[]},forRegExp:function(e){return e.replace(fe,"\\$1")},format:function(e,t){var n=T(arguments,1);return"object"==typeof t&&o(n,t),e.replace(pe,function(e,t,r,i,a){var s=t in n?n[t]:a?"":e;return r&&!isNaN(s)?(s=Number(s),"."==r?s.toFixed(i):ge.lead(s,i)):s})},formatter:function(e){if(e=String(e),A.call(he,e))return he[e];var t=function(t){return de.format(e,t)};return he[e]=t,t},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()},camelize:function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},dasherize:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})},isEmpty:function(e){return null==e||""==String(e)},isNotEmpty:function(e){return null!=e&&""!=String(e)}};if("|||".split(/\|/).length+"|||".split(/(\|)/).length!=11){var ve=String.prototype.split;String.prototype.split=function(e,t){if(!e||e instanceof RegExp==0||""==e.source)return ve.call(this,e,t);var n,r=[],i=0;for(e.global||(e=new RegExp(e.source,/\/([mi]*)$/.exec(e)[1]+"g"));n=e.exec(this);)n[0]=this.substring(i,n.index),r.push.apply(r,n),i=e.lastIndex;return r.push(this.substr(i)),r}}if("2"!="12".substr(-1)){var me=String.prototype.substr;String.prototype.substr=function(e,t){return me.call(this,e<0?Math.max(0,this.length+e):e,t)}}var ge={fit:function(e,t,n){return!isNaN(t)&&e<t?Number(t):!isNaN(n)&&e>n?Number(n):e},lead:function(e,t,n){return String(e).replace(/\d+/,function(e){return(t-=e.length-1)>1?new Array(t).join(n||0)+e:e})},group:function(e,t,n){return String(e).replace(/\d+/,function(e){return e.replace(/\d/g,function(r,i){return!i+(e.length-i)%(t||3)?r:(n||" ")+r})})},format:function(e,t,n,r,i,a){var s=e.toFixed(t);return(n||a)&&(s=s.replace(/(\d+)(\.?)/,function(e,t,r){return(n?Ie.number.group(Number(t),3,n):t)+(r?a||r:"")})),r&&(s=s.replace(/^-?/,"$&"+(r||""))),s+(i||"")}};u(Date,{now:function(){return Number(new Date)}});var _e=function(){function e(){var t;for(r&&(r=P(r)),a.length>1&&(r=w(e));t=a.shift();)t[0].call(t[1]);r=P(r),z.process()}function t(){i++||e()}function n(){try{N.documentElement.doScroll("left"),t()}catch(e){setTimeout(n,1)}}var r,i=!N||"complete"==N.readyState,a=[];if(!i)if(N.addEventListener)N.addEventListener("DOMContentLoaded",t,!1),x.addEventListener("load",t,!1);else{N.attachEvent("onreadystatechange",t),x.attachEvent("onload",t);try{!x.frameElement&&N.documentElement.doScroll&&n()}catch(e){}}return function(t,n){a.length||!i||r||(r=w(e)),a.push([t,n])}}(),ye="addEventListener"in x?function(e,t){x.addEventListener("unload",function(n){e.call(t||null,n||x.event)},!1)}:"attachEvent"in x?function(e,t){x.attachEvent("onunload",function(n){e.call(t||null,n||x.event)})}:d,be=function(){function e(e){if(N&&!s[e]&&(s[e]=N[e]||N.getElementsByTagName(e)[0],s[e])){var t=o[e];delete o[e];for(var n,r=0;n=t[r];r++)n[0].call(n[1],s[e])}return s[e]}function t(){var n=this[0],i=this[1],a=this[2];r(i);var s=e(n);s?(!0===a&&(a=s.firstChild),a&&a.parentNode===s||(a=null),s.insertBefore(i,a)):o[n].push([t,[n,i,a]])}function n(e,t,n){o[e]?o[e].push([t,n]):t.call(n,s[e])}function r(e){for(var t in o){var n=le.search(o[t],e,function(e){return e[1]&&e[1][1]});n&&le.remove(o[t],n)}e&&e.parentNode&&1==e.parentNode.nodeType&&e.parentNode.removeChild(e)}function i(){a&&e("head")&&e("body")&&(a=clearInterval(a))}var a,s={},o={head:[],body:[]};return!N||e("head")&&e("body")||(a=setInterval(i,5),_e(i)),{head:{ready:function(e,t){n("head",e,t)},add:function(e,n){t.call(["head",e,n])}},body:{ready:function(e,t){n("body",e,t)},add:function(e,n){t.call(["body",e,n])}},remove:r}}(),Te=function(){var e=[];if(ye===d)return{add:d,remove:d};ye(function(){t.globalDestroy=!0,t.add=d,t.remove=d;for(var n;n=e.pop();)if("function"==typeof n.destroy)try{n.destroy()}catch(e){}else for(var r in n)n[r]=null;e=[]});var t={add:function(t){null!=t&&e.push(t)},remove:function(t){le.remove(e,t)}};return t}(),Ee=function(){function e(e){i.setAttribute("href",e),be.head.add(i,!0)}function t(){i.setAttribute("href",R.href),be.remove(i)}function n(){e(this.baseURI),this.element||(this.element=N.createElement("style"),r||this.element.appendChild(N.createTextNode(""))),be.head.add(this.element),this.syncCssText(),t()}var r=function(){try{return!N.createElement("style").appendChild(N.createTextNode(""))}catch(e){return!0}}(),i=N&&N.createElement("base");return F(null,{className:"basis.CssResource",inUse:0,url:"",baseURI:"",cssText:void 0,element:null,init:function(e){this.url=e,this.baseURI=Y.dirname(e)+"/"},updateCssText:function(n){this.cssText!=n&&(this.cssText=n,this.inUse&&this.element&&(e(this.baseURI),this.syncCssText(),t()))},syncCssText:r?function(){this.element.styleSheet.cssText=this.cssText}:function(){var e=this.cssText;this.element.firstChild.nodeValue=e},startUse:function(){this.inUse||be.head.ready(n,this),this.inUse+=1},stopUse:function(){this.inUse&&(this.inUse-=1,!this.inUse&&this.element&&be.remove(this.element))},destroy:function(){this.element&&be.remove(this.element),this.element=null,this.cssText=null}})}(),xe={fixSourceOffset:h,setInfo:function(e,t,n){},getInfo:function(e,t){}},Ie=b("basis").extend({version:"1.5.0-next",NODE_ENV:k,config:$,createSandbox:function(e){return n(x,D,u({noConflict:!0,devpanel:!1},e))},dev:C=new oe("basis.dev").extend(C).extend(xe).extend({warnPropertyAccess:B}),resolveNSFilename:_,patch:function(e,t){e=/[^a-z0-9_\.]/i.test(e)||".js"==Y.extname(e)?J(e,null,"basis.patch('{url}')"):_(e),H[e]?H[e].push(t):H[e]=[t];var n=te.get(e);n&&n.isResolved()&&t(n.get(),n.url)},namespace:b,require:ue,resource:te,asset:function(e){return J(e,null,"basis.asset('{url}')")},setImmediate:w,clearImmediate:P,nextTick:function(){w.apply(null,arguments)},asap:z,FACTORY:U,PROXY:j,Class:F,Token:V,DeferredToken:q,codeFrame:M,ready:_e,teardown:ye,cleaner:Te,genUID:s,getter:O,console:C,path:Y,doc:be,object:{extend:o,complete:u,keys:l,values:function(e){var t=[];for(var n in e)t.push(e[n]);return t},slice:c,splice:function(e,t){var n={};if(!t)return o(n,e);for(var r,i=0;r=t[i++];)r in e&&(n[r]=e[r],delete e[r]);return n},merge:f,iterate:p},fn:{$undefined:function(e){return void 0==e},$defined:function(e){return void 0!=e},$isNull:function(e){return null==e||void 0==e},$isNotNull:function(e){return null!=e&&void 0!=e},$isSame:function(e){return e===this},$isNotSame:function(e){return e!==this},$self:h,$const:function(e){return function(){return e}},$false:function(){return!1},$true:function(){return!0},$null:function(){return null},$undef:d,getter:O,nullGetter:L,wrapper:function(e){return function(t){var n={};return n[e]=t,n}},factory:v,isFactory:function(e){return"function"==typeof e&&e.factory===U},lazyInit:function(e,t){var n,r,i=0;return n=function(){return i++||(n.inited=!0,n.data=r=e.apply(t||this,arguments)),r}},lazyInitAndRun:function(e,t,n){var r,i,a=0;return r=function(){return a++||(r.inited=!0,r.data=i=e.call(n||this)),t.apply(i,arguments),i}},runOnce:function(e,t){var n=0;return function(){if(!n++)return e.apply(t||this,arguments)}},publicCallback:function(e,t){var n="basisjsCallback"+s();return x[n]=t?e:function(){try{delete x[n]}catch(e){x[n]=void 0}e.apply(this,arguments)},n}},array:o(T,le),string:de,number:ge,bool:{invert:function(e){return!e}},json:{parse:"undefined"!=typeof JSON?JSON.parse:function(e){return de.toObject(e,!0)}}});return k||$.autoload&&$.autoload.forEach(function(e){ue(e)}),k&&exports&&(exports.basis=Ie),Ie}(this)}).call(this);